<!DOCTYPE html>
<html>
  <head>
    <%- include('partials/head') %>
  </head>
  <body style="background-color: #b0e0e6">
    <div class="container marginAuto">
      <center>
        <h1 class="marginTop1 fontSize9vwMobile17vw fontFamilyGeorgia">
          Ranglista
        </h1>
        <h1 class="margin1 fontSize4remMobile9vw fontFamilyGeorgia">
          <%= roomName || 'Room ' + szekreny %>
        </h1>

        <table
          class="table table-striped bordered table-light alignCenter marginTop1"
        >
          <thead class="thead-dark">
            <tr>
              <th class="width2">#</th>
              <th>Név</th>
              <th>Pont</th>
              <th>Dátum</th>
            </tr>
          </thead>
          <tbody>
            <% leaders.forEach(function(ember,index){ %>
            <tr>
              <th scope="row"><%= index+1 %>.</th>
              <td><%= ember.nev %></td>
              <td><%= ember.pont %></td>
              <td
                class="date-cell"
                data-date="<%= ember.created.toISOString() %>"
              >
                -
              </td>
            </tr>
            <% }) %>
          </tbody>
        </table>

        <a class="btn btn-light margin1 btn-lg" href="/<%= szekreny %>"
          >Vissza</a
        >
      </center>
    </div>

    <script>
      // Format dates using browser's locale settings
      $(document).ready(function () {
        $(".date-cell").each(function () {
          var dateStr = $(this).data("date");
          if (dateStr) {
            var date = new Date(dateStr);
            $(this).text(date.toLocaleDateString());
          }
        });
      });
    </script>
  </body>
</html>
